<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="tlf">
<title>Run Shiny App to Create Themes • tlf</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Run Shiny App to Create Themes">
<meta property="og:description" content="tlf">
<meta name="robots" content="noindex">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">tlf</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">1.5.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/tlf.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <h6 class="dropdown-header" data-toc-skip>Primary Plots</h6>
    <a class="dropdown-item" href="../atom-plots">Atom Plots</a>
    <a class="dropdown-item" href="../box-whisker-vignette">Box-Whisker Plots</a>
    <a class="dropdown-item" href="../histogram">Histogram Plots</a>
    <a class="dropdown-item" href="../pk-ratio-vignette">PK Ratio Plots</a>
    <a class="dropdown-item" href="../plot-time-profile">Time Profile Plots</a>
    <h6 class="dropdown-header" data-toc-skip>——–</h6>
    <h6 class="dropdown-header" data-toc-skip>Plot configuration</h6>
    <a class="dropdown-item" href="../plot-configuration">Introduction to PlotConfiguration objects</a>
    <h6 class="dropdown-header" data-toc-skip>——–</h6>
    <h6 class="dropdown-header" data-toc-skip>Shiny apps</h6>
    <a class="dropdown-item" href="../plot-maker">Run Shiny App to Create Plots</a>
    <a class="dropdown-item" href="../theme-maker">Run Shiny App to Create Themes</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/open-systems-pharmacology/tlf-library/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Run Shiny App to Create Themes</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/open-systems-pharmacology/tlf-library/blob/HEAD/vignettes/theme-maker.Rmd" class="external-link"><code>vignettes/theme-maker.Rmd</code></a></small>
      <div class="d-none name"><code>theme-maker.Rmd</code></div>
    </div>

    
    
<pre><code><span><span class="co">#&gt; Loading required package: tlf</span></span></code></pre>
<div class="section level2">
<h2 id="introduction">1. Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>The aim of this vignette is to document how to create, update, and
save <code>Theme</code> objects using the <code>tlf</code> user
interface (UI) called by
<strong><code><a href="../reference/runThemeMaker.html">runThemeMaker()</a></code></strong>.</p>
<p><code>Theme</code> objects define the default values and methods of
<code>PlotConfiguration</code> objects, which themselves describe the
properties of a plot (such as colors, fonts, etc.).</p>
</div>
<div class="section level2">
<h2 id="how-to-start">2. How to start<a class="anchor" aria-label="anchor" href="#how-to-start"></a>
</h2>
<p>Use the function <code><a href="../reference/runThemeMaker.html">runThemeMaker()</a></code> to start the
theme-maker User Interface. The function will load <code>shiny</code>
required for the UI and set the current theme defined by the UI.</p>
<p><img src="figures/theme-maker/start-theme-maker.png" width="100%" style="display: block; margin: auto;"></p>
</div>
<div class="section level2">
<h2 id="how-to-update-theme-properties">3. How to update theme properties<a class="anchor" aria-label="anchor" href="#how-to-update-theme-properties"></a>
</h2>
<p>On the upper left side of the UI, a navigation bar indicates the main
properties that can be updated in the theme: <strong>Labels</strong>,
<strong>Background</strong>, <strong>Axes</strong>,
<strong>Legend</strong>, <strong>Aesthetic Maps</strong> and
<strong>Plot Configurations</strong>.</p>
<p>In the <strong>Labels</strong> navigation bar (already available when
starting the UI), font properties of the most common labels are
available. The font properties of ticks and legend are available in the
properties <strong>Axes</strong> and <strong>Legend</strong>. Note that
<em>Color</em> properties use a predefined list of available colors as
illustrated in the figure below, however, users can type and add their
own colors (e.g. hex colors).</p>
<p><img src="figures/theme-maker/labels.png" width="100%" style="display: block; margin: auto;"></p>
<p>Properties of the watermark are available in the
<strong>Labels</strong> navigation bar, and include the field
<em>Content</em> which allows to define the content of the watermark (in
this example the content is <em>template</em>).</p>
<p>The <strong>Background</strong> navigation bar includes the
properties of the colors, sizes, and linetypes for each background
elements (illustrated below).</p>
<p><img src="figures/theme-maker/background.png" width="100%" style="display: block; margin: auto;"></p>
<p>The <strong>Axes</strong> navigation bar includes the properties of
the axes lines (colors, sizes and linetypes) as well as the font
properties of their ticks (illustrated below).</p>
<p><img src="figures/theme-maker/axes.png" width="100%" style="display: block; margin: auto;"></p>
<p>The <strong>Legend</strong> navigation bar includes the properties of
the position, fonts, and background of the legend (illustrated
below).</p>
<p><img src="figures/theme-maker/legend.png" width="100%" style="display: block; margin: auto;"></p>
<p>The <strong>Aesthetic Maps</strong> navigation bar defines the maps
of aesthetic properties (color, fill, linetype, shape, size and alpha).
Such maps can be used by <code>PlotConfiguration</code> objects to
define how they will plot <strong>points</strong>,
<strong>lines</strong>, <strong>ribbons</strong>, and
<strong>errorbars</strong>. Consequently, these properties are paired
with the <strong>Plot Configurations</strong> navigation bar.</p>
<p>The <strong>Plot Configurations</strong> navigation bar defines the
default aesthetic selection properties for each type of
<code>PlotConfiguration</code> objects: it defines how to plot
<strong>points</strong>, <strong>lines</strong>,
<strong>ribbons</strong>, and <strong>errorbars</strong> for each type
of atom or molecule plot available in the <code>tlf</code> package.</p>
<p>To illustrate these properties, the example below will update these
properties for a PK ratio plots</p>
<p>First, select <em>plotPKRatio</em> in the list of sample plots to
check the current features of the theme. The list of sample plots
available in the UI corresponds to all the atom and molecule plot
functions defined in the <code>tlf</code> package.</p>
<p><img src="figures/theme-maker/sample-plots.png" width="100%" style="display: block; margin: auto;"></p>
<p>Then, the <strong>Aesthetic Maps</strong> indicates for each
aesthetic property pairs of rank-value for the aesthetic map. The
current color map defines <em>30078D7</em> (blue color).</p>
<p><img src="figures/theme-maker/aes-map.png" width="100%" style="display: block; margin: auto;"></p>
<p>The values can be changed as illustrated below where color ranked 1
was set as <em>salmon</em> and color ranked 2 was set as
<em>dodgerblue</em>.</p>
<p><img src="figures/theme-maker/aes-map-set.png" width="100%" style="display: block; margin: auto;"></p>
<p>On the <strong>Plot Configurations</strong> navigation bar, select
the <em>plotPKRatio</em> (figure below). Three selection keys are
available for this plot as it includes points, lines and optionally
error bars. The current selection key is <strong>reset</strong> which
resets and uses in sequence the values of the color map.</p>
<p><img src="figures/theme-maker/pk-ratio-color.png" width="100%" style="display: block; margin: auto;"></p>
<p>The example below updates how the lines are drawn in the PK ratio
plots. Currently, the selection key is defined as <strong>Other</strong>
and the corresponding value has <em>longdash</em> which is translated as
the PK ratio lines are all plotted as long dashes:</p>
<p><img src="figures/theme-maker/pk-ratio-linetype.png" width="100%" style="display: block; margin: auto;"></p>
<p>To update how lines are drawn in PK ratio plots, you can use a
default linetype in the selection key <strong>Other</strong> or use the
linetype map defined in the <strong>Aesthetic Maps</strong> navigation
bar. Different keys are available when using the map:</p>
<ul>
<li>
<strong>next</strong> will select the next values of the map every
time a line is added</li>
<li>
<strong>same</strong> will select the same value of the map every
time a line is added</li>
<li>
<strong>first</strong> will select the first value of the map every
time a line is added</li>
<li>
<strong>reset</strong> will select the next values of the map every
time a line is added but resetting the count before the call of the plot
function</li>
<li>
<strong>other</strong> allows you to specify a user defined
linetype(s) not related to the map</li>
</ul>
<p><img src="figures/theme-maker/pk-ratio-selection-key.png" width="100%" style="display: block; margin: auto;"></p>
<p>By selecting <em>next</em>, the PK ratio plot uses the next value in
the linetype map every time a line is added. In this example, this leads
to draw the ratio of 1 as a solid line, the ratio of 1.5 as a longdash
line and the ratio of 2 as a dotted line.</p>
<p><img src="figures/theme-maker/pk-ratio-linetype-next.png" width="100%" style="display: block; margin: auto;"></p>
</div>
<div class="section level2">
<h2 id="how-to-export-and-re-use-a-theme">4. How to export and re-use a theme<a class="anchor" aria-label="anchor" href="#how-to-export-and-re-use-a-theme"></a>
</h2>
<p>The theme-maker UI allows an easy way to save your theme properties
as a json file. This file can be reloaded when needed using the function
<code>loadThemeFromJson(jsonFile)</code> and can be used as the current
theme with the function <code>useTheme(theme)</code>.</p>
<p>To save your current theme using the UI, click on <strong>Download
theme .json</strong> as illustrated in the figure below and indicate the
location/name for saving the theme file. Please remember to specify the
<strong>.json</strong> file extension while saving the theme to a
file.</p>
<p><img src="figures/theme-maker/save-theme.png" width="100%" style="display: block; margin: auto;"></p>
<p>The UI also allows you to load a previously saved theme in
<code>.json</code> file using the button <strong>Load a Theme from
Json</strong> as illustrated in the figure below.</p>
<p><img src="figures/theme-maker/use-saved-theme.png" width="100%" style="display: block; margin: auto;"></p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Michael Sevestre, Pierre Chelle, Abdullah Hamadeh.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
